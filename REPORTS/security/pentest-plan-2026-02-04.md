# Pentest Plan â€” Agent Pulse (2026-02-04)

## Status
- **Plan only.** No execution has started yet.

## Scope
- `apps/web` UI and API routes
- Eligibility logic (ALIVE checks, optional ERC-8004 gate)
- Inbox key issuance and task retrieval (`/api/inbox/*`)
- Event indexing logic (Transfer to signal sink)
- Configuration and env handling (`.env.example`, runtime vars)
- Rate limiting and abuse controls
- Logging, error handling, and data exposure

## Out of Scope
- Onchain contract security audits beyond integration behavior
- Treasury and operational multisig processes
- Marketing content
- Any unrelated repos

## Environments
- **Fork:** Base fork (Anvil/Tenderly) for event feed validation
- **Testnet:** Base testnet equivalents for integration checks
- **Staging:** Vercel preview with non-production envs
- **No mainnet / prod keys**

## Tools
- `rg` for code search
- `npm audit` for dependency review
- Request tools (curl/Postman) for API route testing
- Static checks for env leakage (build output inspection)
- Optional: ZAP/Burp for HTTP fuzzing (if available)

## Steps
1. Threat model review and entry-point enumeration
2. API tests: inbox key issuance, TTL, replay, and rate limits
3. Eligibility checks: ALIVE logic, ERC-8004 gate, server-side enforcement
4. Indexing checks: log chunking, confirmations, chain ID enforcement
5. Web UI checks: XSS, client bundle env leakage, CSP/CORS review
6. Abuse tests: invalid payloads, wallet enumeration attempts
7. Dependency review and high-severity remediation plan

## Deliverables
- Findings table with severity, evidence, reproduction, and fix guidance
- Minimal patch list for low-risk fixes
- Retest notes after remediation

## Execution Notes
- No tests or scans executed yet; this is the initial plan only.
