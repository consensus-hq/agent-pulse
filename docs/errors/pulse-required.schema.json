{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Pulse Required Error",
  "description": "Error returned when a gate requires a pulse that has not been provided or has expired.",
  "type": "object",
  "properties": {
    "error": {
      "type": "string",
      "const": "PULSE_REQUIRED"
    },
    "message": {
      "type": "string"
    },
    "docs_url": {
      "type": "string",
      "format": "uri",
      "default": "https://docs.agentpulse.xyz/gate"
    },
    "requester_id": {
      "type": "string",
      "description": "The ID of the agent or system requesting access."
    },
    "gate_type": {
      "type": "string",
      "enum": ["inbound", "outbound"]
    },
    "threshold": {
      "type": "string",
      "description": "The required pulse threshold (e.g., '1h', 'daily')."
    },
    "last_pulse": {
      "type": ["string", "null"],
      "format": "date-time",
      "description": "ISO 8601 timestamp of the last recorded pulse, or null if never pulsed."
    }
  },
  "required": ["error", "message", "docs_url", "requester_id", "gate_type", "threshold", "last_pulse"]
}
